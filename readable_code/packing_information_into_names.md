# 変数名を決める時に気をつける6ポイント
* 明確な単語を選ぶ
* 汎用的な名前を避ける
* 抽象的な名前よりも具体的な名前を使う
* 接尾辞や接頭辞を使って情報を追加する
* 名前の長さを決める
* 名前のフォーマットで情報を伝える

## 明確な単語を選ぶ
例)  
インターネットから情報を取り出すの単語はget...ではなくfetch...を使用する  
量・大きさを取り出すための変数名はSize()ではなく、Height()・NumNodes()・MemoryBytes()などのようにどの大きさを指しているのか分かりやすい名前にする  

|単語|代替案|
|:----:|:-----:|
|send|deliver, dispatch, announce, distribute, route|
|find|search, extract, locate, recover|
|start|launch, create, begin, open|
|make|create, set up, build, generate, compose, add, new|

### 鍵となる答え
> 気取った言い回しよりも明確で正確な方が良い  
つまり、やりすぎては行けない

## 汎用的な名前を避ける
`tmp・retval・foo`のような名前は、「名前のことを全く考えていない」と行っているようなものです。このような「空虚な名前」を付けるよりも`エンティティの値や目的を表した名前を選ぼう。`
### retvalの例
例えば、以下のようなretvalを使っているJavaScriptの関数があるとする。
```
var euclidean_norm = function(v){
    var retval = 0.0
    for(var i = 0; i < v.length; i += 1){
        retval += v[i] * v[i];
    }
    return Math.sqrt(retval);
};
```
`retval`は`戻り値です`以外の情報を持たない。いい名前というのは、`変数の目的や値を表すものだ。`ここでは、vの2条の合計を表しているわけですから、`sum_squares`という名前がいいだろう。
### tmpの例　
2つの変数を入れ替える古典的な例を考えてみよう。  
以下のように`生存期間がわずか数行`である場合、`tmp`という名前で問題無い。
```
if (right < left){
    tmp = right;
    right = left;
    left = tmp;
}
```
しかし、以下のような場合は誤った使い方である。
```
String tmp = user.name();
tmp += " " + user.phone_number();
tmp += " " + user.email();
...
template.set("user_info", tmp);
```
生存期間は短いが、この変数は「一時的な補完」ではない。これを分かりやすくするため`tmp`を`user_info`のような名前に変えるのがいいだろう。
### ループイテレータ
```
for(int i = 0; i < clubs.size(); i++)
    for(int j = 0; j < clubs[i].members.size(); j++)
        for(int k = 0; k < users.size(); k++)
            if(clubs[i].members[k] == users[j])
                cout << "user[" << j << "] is in club[" << i << "]" << endl;
```
イテレータが複数あるときは、インデックスにもっと明確な名前をつけるのが良い。今回のように`i・j・k`ではなく、説明的な名前(`club_i・members_i・users_i`)にする。更に簡略化して(`ci・mi・ui`)でもいいだろう。
### 汎用的な名前のまとめ
これまで見てきたように、汎用的な名前が役に立つこともあるが、基本的には少し手でも時間を使っていい名前を考える週間を付けるようにすれば、すぐに「命名力」の高まりが感じられるようになるだろう。

## 名前に情報を追加する
変数名に詰め込める情報はあまり多くないが、変数名は短いコメントのようなものです。だから、もし絶対に知らせなきゃいけない大切な情報があれば、「単語」を変数名に追加すればいい。例えば、以下のような変数名は16進数の文字列を持つ変数なので`id`よりも`hex_id`とするのがいい。
```
String id; // "af35abb32167d"
```
### 値の単位
時間やバイト数のように計測できるものであれば、変数名に単位をいれるといいだろう。
```
var start = (new Date()).getTime();
```
この変数名は間違っていないように見えるが、`getTime()`が秒ではなく、ミリ秒を返すため変数名に`_ms`を追加すれば明確にする。
```
var start_ms = (new Date()).getTime();
```
時間以外にもプログラミングで使用する単位は以下のようなものもある。
|関数の仮引数|単位を追加した仮引数|
|:----:|:----:|
|Start(int delay)|delay→delay_secs|
|CreateCache(int size)|size→size_mb|
|ThrottleDownload(float limit)|limit→max_kbps|
|Rotate(float angle)|angle→degrees_cw|
### その他の重要な属性を追加する
変数名に追加する情報は単位だけではなく、危険や注意を換気する情報も追加した方が良い。
以下の例はあくまで変数の意味を間違えてしまった時にバグになりそうなところにだけ使うことが大切である。特にセキュリティのバグのような深刻な被害が出るところに使うのがいいだろう。
|状況|変数名|改善後|
|:----:|:----:|:----:|
|passwordはブレインテキストのため暗号化するべきである|passowrd|plaintext_password|
|htmlの文字コードをUTF-8に変えた|html|html_utf8|
|入力されたdataをURLエンコードした。|data|data_urlenc|
## 名前の長さを決める
いい名前を選ぶときには「長い名前を避ける」という暗黙的な制約がある。長い名前は覚えにくいし、画面を大きく占領してしまう。(lint設定によっては長い変数名は避けたくなるかもしれない)しかしそれは、変数の使い方によって違ってくる。
### スコープが小さければ短い名前でもいい
識別子の「スコープ」が小さければ、多くの情報を詰め込む必要はない、全ての情報が見えるので、変数の名前は短くていい。
### 頭文字と省略形
プロジェクト固有の省略形はだめです。省略形を付けるときは`新しいチームメイトはその名前の意味を理解できるだろうか？`理解できるなら問題はない。
### 不要な単語を投げ捨てる
名前に含まれる単語を削除しても情報が待ったく損なわれないこともある
`ConvertToString()`は`ToString()`にしても、必要な情報は損なわれていない。
同様に`DoServerLoop()`も`ServerLoop()`に変えても問題ない。
